{"version":3,"file":"js/612.f30cdc52.js","mappings":"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","sources":["webpack://admin-gereja/./src/views/RenunganHarian.vue","webpack://admin-gereja/./src/views/RenunganHarian.vue?7679"],"sourcesContent":["<template>\n  <div>\n    <div class=\"add-button-container\">\n      <button class=\"custom-card-button\" @click=\"addCard\">\n        <i class=\"fas fa-plus\"></i> Tambah\n      </button>\n    </div>\n    <div class=\"d-flex justify-content-center mt-5\">\n      <div class=\"custom-card\" v-for=\"(card, index) in cards\" :key=\"card.id\">\n        <div class=\"custom-card-content\">\n          <!-- <div class=\"custom-card-image\">\n            <img :src=\"card.imageUrl\" alt=\"Image 1\" @click=\"openImageInput(index)\" />\n            <input type=\"file\" accept=\"image/*\" @change=\"uploadImage(index)\" ref=\"imageInput\" style=\"display: none\"/>\n          </div> -->\n          <div class=\"custom-card-details\">\n            <form>\n              <div class=\"title-and-date\">\n                <h3 v-if=\"!card.editing\">{{ card.judul }}</h3>\n                <textarea v-else v-model=\"card.judul\" class=\"custom-input\" placeholder=\"Judul\" :required=\"card.editing\" />\n                <h6 v-if=\"!card.editing\">Tanggal: {{ formatDate(card.tanggal) }}</h6>\n                <input v-else type=\"date\" v-model=\"card.tanggal\" class=\"custom-input\" placeholder=\"Tanggal\" :required=\"card.editing\" />\n              </div>\n              <hr>\n              <h4>Ayat :</h4>\n              <p v-if=\"!card.editing\">{{ card.ayat }}</p>\n              <textarea v-else v-model=\"card.isi\" class=\"custom-input\" placeholder=\"Ayat\" :required=\"card.editing\"></textarea>\n              <h6 v-if=\"!card.editing\"> {{ card.nats }}</h6>\n              <textarea v-else v-model=\"card.nats\" name=\"Nats\" placeholder=\"Nats\" id=\"\" cols=\"30\" rows=\"2\"></textarea>\n              <hr>\n              <h4>Renungan :</h4>\n              <p v-if=\"!card.editing\">{{ card.renungan }}</p>\n              <textarea v-else v-model=\"card.renungan\" class=\"custom-input\" placeholder=\"Renungan\" :required=\"card.editing\"></textarea>\n              <div class=\"button-card\">\n                <button v-if=\"!card.editing\" class=\"custom-card-button\" @click=\"toggleEdit(index)\">\n                  <i class=\"fas fa-edit\"></i> Edit\n                </button>\n                <button v-else class=\"custom-card-button\" @click=\"simpanDataBaru(index)\">\n                  <i class=\"fas fa-save\"></i> Simpan\n                </button>\n                <button class=\"delete-button\" @click=\"deleteCard(index)\">\n                  <i class=\"fas fa-trash-alt\"></i> Delete\n                </button> \n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport DatePicker from 'vue-datepicker';\nexport default {\n  DatePicker,\n  data() {\n    return {\n      cards: [],\n      apiUrl: 'https://siswaapi.gkiswjateng.org/api/renungan'\n    };\n  },\n  mounted() {\n    this.fetchCards();\n  },\n  methods: {\n    async fetchCards() {\n      try {\n        const response = await axios.get(this.apiUrl);\n        this.cards = response.data;\n      } catch (error) {\n        console.error('Gagal mengambil data kartu:', error);\n      }\n    },\n    deleteCard(index) {\n      this.cards.splice(index, 1);\n    },\n    addCard() {\n      this.cards.unshift({\n        judul: '',\n        tanggal: '',\n        nats: '',\n        ayat: '',\n        renungan: '',\n        //imageUrl: '',\n        editing: true,\n      });\n    },\n    // openImageInput(index) {\n    //   const card = this.cards[index];\n    //   if (card.editing) {\n    //     const inputElement = this.$refs.imageInput[index];\n    //     if (inputElement) {\n    //       inputElement.click();\n    //     } else {\n    //       console.error(`Input element for index ${index} is undefined.`);\n    //     }\n    //   }\n    // },\n    // uploadImage(index) {\n    //   const card = this.cards[index];\n    //   if (card.editing) {\n    //     const inputElement = this.$refs.imageInput[index];\n    //     if (inputElement && inputElement.files && inputElement.files.length > 0) {\n    //       const file = inputElement.files[0];\n    //       const reader = new FileReader();\n    //       reader.onload = (e) => {\n    //         card.imageUrl = e.target.result;\n    //         card.imageChanged = true;\n    //       };\n    //       reader.readAsDataURL(file);\n    //     } else {\n    //       console.error(`Input element for index ${index} is undefined or has no selected file.`);\n    //     }\n    //   }\n    // },\n\n    async simpanDataBaru(index) {\n      const card = this.cards[index];\n\n      // Validasi data sebelum disimpan\n      if (this.validateCard(card)) {\n        try {\n          // Buat objek data yang akan dikirimkan ke server\n          const requestData = {\n            judul: card.judul,\n            tanggal: card.tanggal,\n            ayat: card.ayat,\n            nats: card.nats,\n            renungan: card.renungan,\n            // ... (sesuaikan dengan data yang ingin Anda kirimkan)\n          };\n\n          // Lakukan permintaan POST ke server\n          await axios.post('http://siswaapi.gkiswjateng.org:8000/api/renungan', requestData, {\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n            },\n          });\n\n          // Jika permintaan berhasil, keluar dari mode editing dan perbarui data kartu\n          card.editing = false;\n          this.fetchCards(); // Perbarui data setelah menyimpan\n        } catch (error) {\n          console.error('Gagal menyimpan data baru:', error);\n        }\n      } else {\n        console.error('Data tidak valid, pastikan semua field terisi.');\n      }\n    },\n\n\n    // saveCard(index) {\n    //   const card = this.cards[index];\n    //   if (this.validateCard(card)) {\n    //     if (card.id) {\n    //       // Lakukan permintaan PUT ke server untuk memperbarui data kartu\n    //       axios.put(`${this.apiUrl}/${card.id}`, card)\n    //         .then((response) => {\n    //           console.log('Data kartu berhasil diperbarui:', response.data);\n    //           card.editing = false; // Setelah penyimpanan berhasil, keluar dari mode edit\n    //         })\n    //         .catch((error) => {\n    //           console.error('Gagal memperbarui data kartu:', error);\n    //         });\n    //     } else {\n    //       // Lakukan permintaan POST untuk menyimpan kartu baru ke server\n    //       axios.post(this.apiUrl, card)\n    //         .then((response) => {\n    //           console.log('Data kartu baru berhasil disimpan:', response.data);\n    //           card.id = response.data.id; // Simpan ID yang diberikan oleh server jika dibutuhkan\n    //           card.editing = false; // Setelah penyimpanan berhasil, keluar dari mode edit\n    //         })\n    //         .catch((error) => {\n    //           console.error('Gagal menyimpan data kartu baru:', error);\n    //         });\n    //     }\n    //   } else {\n    //     console.error('Data tidak valid, pastikan semua field terisi.');\n    //   }\n    // },\n    validateCard(card) {\n      if (card && card.judul && card.tanggal && card.isi && card.renungan) {\n        return (\n          card.judul.trim() !== '' &&\n          card.tanggal.trim() !== '' &&\n          card.isi.trim() !== '' &&\n          card.renungan.trim() !== ''\n        );\n      }\n      return false;\n    },\n    toggleEdit(index) {\n      this.cards[index].editing = !this.cards[index].editing;\n    },\n    formatDate(dateString) {\n      const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', options);\n    },\n  }\n};\n</script>\n\n<style>\n  .title-and-date {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n  }\n  .delete-button {\n      background-color: #ff0000;\n      color: #fff;\n      text-decoration: none;\n      padding: 5px 10px;\n      border-radius: 5px;\n      display: inline-block;\n      margin-top: 15px;\n    }\n  .button {\n    text-align: center;\n    font-size: 16px;\n    color: coral;\n  }\n  .button-card{\n    margin-left:580px;\n  }\n\n  h4 {\n    font-weight: bold;\n  }\n\n  h3 {\n    font-weight: bold;\n  }\n\n  .custom-card-button {\n    background-color: #007bff;\n    color: #fff;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 5px;\n    display: inline-block;\n    margin-top: 15px;\n    margin-right: 5px;\n  }\n\n  .table-borderless td {\n    padding-right: 15px;\n    font-size: 1.7rem;\n    margin: 10px 0;\n  }\n\n  .custom-card {\n    max-width: 1000px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    display: flex;\n    margin: 0 auto;\n    margin-bottom: 15px;\n  }\n\n  .custom-card-content {\n    display: flex;\n    width: 100%;\n    align-items: center;\n    background-color: #ffffff;\n  }\n\n  .custom-card-image {\n    width: 180px;\n    height: 250px;\n    margin: 20px 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid #ccc;\n    border-radius: 0;\n    overflow: hidden;\n  }\n\n  .custom-card-image img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .custom-card-details {\n    flex: 1;\n    padding: 20px;\n    text-align: left;\n  }\n\n  .custom-input {\n    width: 100%;\n    font-size: 2rem;\n    padding: 5px;\n    border-radius: 5px;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n  }\n\n  .custom-card-title {\n    font-size: 3rem;\n    font-weight: bold;\n    margin: 0;\n    padding: 0;\n  }\n  .add-button-container {\n    margin-left:880px;\n    margin-bottom:15px;\n  }  \n</style>\n","import { render } from \"./RenunganHarian.vue?vue&type=template&id=a70571b8\"\nimport script from \"./RenunganHarian.vue?vue&type=script&lang=js\"\nexport * from \"./RenunganHarian.vue?vue&type=script&lang=js\"\n\nimport \"./RenunganHarian.vue?vue&type=style&index=0&id=a70571b8&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","onClick","_cache","args","$options","addCard","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","cards","card","index","key","id","_hoisted_4","_hoisted_5","_hoisted_6","editing","judul","$event","placeholder","required","_hoisted_7","_toDisplayString","type","tanggal","_hoisted_9","formatDate","_hoisted_11","_hoisted_12","isi","_hoisted_13","ayat","nats","name","cols","rows","_hoisted_15","_hoisted_17","_hoisted_18","renungan","_hoisted_19","_hoisted_21","simpanDataBaru","_hoisted_25","toggleEdit","_hoisted_23","deleteCard","_hoisted_27","DatePicker","data","apiUrl","mounted","this","fetchCards","methods","response","axios","get","error","console","splice","unshift","validateCard","requestData","post","headers","sessionStorage","getItem","trim","dateString","options","year","month","day","date","Date","toLocaleDateString","__exports__","render"],"sourceRoot":""}