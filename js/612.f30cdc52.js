"use strict";(self["webpackChunkadmin_gereja"]=self["webpackChunkadmin_gereja"]||[]).push([[612],{4620:function(a,t,e){e.r(t),e.d(t,{default:function(){return R}});var n=e(3396),i=e(7139),l=e(9242);const d={class:"add-button-container"},s=(0,n._)("i",{class:"fas fa-plus"},null,-1),r={class:"d-flex justify-content-center mt-5"},u={class:"custom-card-content"},o={class:"custom-card-details"},c={class:"title-and-date"},g={key:0},m=["onUpdate:modelValue","required"],p={key:2},h=["onUpdate:modelValue","required"],k=(0,n._)("hr",null,null,-1),w=(0,n._)("h4",null,"Ayat :",-1),y={key:0},f=["onUpdate:modelValue","required"],D={key:2},C=["onUpdate:modelValue"],_=(0,n._)("hr",null,null,-1),U=(0,n._)("h4",null,"Renungan :",-1),b={key:4},v=["onUpdate:modelValue","required"],j={class:"button-card"},V=["onClick"],q=(0,n._)("i",{class:"fas fa-edit"},null,-1),z=["onClick"],x=(0,n._)("i",{class:"fas fa-save"},null,-1),S=["onClick"],T=(0,n._)("i",{class:"fas fa-trash-alt"},null,-1);function Z(a,t,e,Z,A,B){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",d,[(0,n._)("button",{class:"custom-card-button",onClick:t[0]||(t[0]=(...a)=>B.addCard&&B.addCard(...a))},[s,(0,n.Uk)(" Tambah ")])]),(0,n._)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(A.cards,((a,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"custom-card",key:a.id},[(0,n._)("div",u,[(0,n._)("div",o,[(0,n._)("form",null,[(0,n._)("div",c,[a.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("textarea",{key:1,"onUpdate:modelValue":t=>a.judul=t,class:"custom-input",placeholder:"Judul",required:a.editing},null,8,m)),[[l.nr,a.judul]]):((0,n.wg)(),(0,n.iD)("h3",g,(0,i.zw)(a.judul),1)),a.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:3,type:"date","onUpdate:modelValue":t=>a.tanggal=t,class:"custom-input",placeholder:"Tanggal",required:a.editing},null,8,h)),[[l.nr,a.tanggal]]):((0,n.wg)(),(0,n.iD)("h6",p,"Tanggal: "+(0,i.zw)(B.formatDate(a.tanggal)),1))]),k,w,a.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("textarea",{key:1,"onUpdate:modelValue":t=>a.isi=t,class:"custom-input",placeholder:"Ayat",required:a.editing},null,8,f)),[[l.nr,a.isi]]):((0,n.wg)(),(0,n.iD)("p",y,(0,i.zw)(a.ayat),1)),a.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("textarea",{key:3,"onUpdate:modelValue":t=>a.nats=t,name:"Nats",placeholder:"Nats",id:"",cols:"30",rows:"2"},null,8,C)),[[l.nr,a.nats]]):((0,n.wg)(),(0,n.iD)("h6",D,(0,i.zw)(a.nats),1)),_,U,a.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("textarea",{key:5,"onUpdate:modelValue":t=>a.renungan=t,class:"custom-input",placeholder:"Renungan",required:a.editing},null,8,v)),[[l.nr,a.renungan]]):((0,n.wg)(),(0,n.iD)("p",b,(0,i.zw)(a.renungan),1)),(0,n._)("div",j,[a.editing?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"custom-card-button",onClick:a=>B.simpanDataBaru(t)},[x,(0,n.Uk)(" Simpan ")],8,z)):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"custom-card-button",onClick:a=>B.toggleEdit(t)},[q,(0,n.Uk)(" Edit ")],8,V)),(0,n._)("button",{class:"delete-button",onClick:a=>B.deleteCard(t)},[T,(0,n.Uk)(" Delete ")],8,S)])])])])])))),128))])])}e(1719);var A=e(4161),B=e(5448),E={DatePicker:B.Z,data(){return{cards:[],apiUrl:"https://siswaapi.gkiswjateng.org/api/renungan"}},mounted(){this.fetchCards()},methods:{async fetchCards(){try{const a=await A.Z.get(this.apiUrl);this.cards=a.data}catch(a){console.error("Gagal mengambil data kartu:",a)}},deleteCard(a){this.cards.splice(a,1)},addCard(){this.cards.unshift({judul:"",tanggal:"",nats:"",ayat:"",renungan:"",editing:!0})},async simpanDataBaru(a){const t=this.cards[a];if(this.validateCard(t))try{const a={judul:t.judul,tanggal:t.tanggal,ayat:t.ayat,nats:t.nats,renungan:t.renungan};await A.Z.post("http://siswaapi.gkiswjateng.org:8000/api/renungan",a,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),t.editing=!1,this.fetchCards()}catch(e){console.error("Gagal menyimpan data baru:",e)}else console.error("Data tidak valid, pastikan semua field terisi.")},validateCard(a){return!!(a&&a.judul&&a.tanggal&&a.isi&&a.renungan)&&(""!==a.judul.trim()&&""!==a.tanggal.trim()&&""!==a.isi.trim()&&""!==a.renungan.trim())},toggleEdit(a){this.cards[a].editing=!this.cards[a].editing},formatDate(a){const t={year:"numeric",month:"2-digit",day:"2-digit"},e=new Date(a);return e.toLocaleDateString("en-US",t)}}},G=e(89);const N=(0,G.Z)(E,[["render",Z]]);var R=N}}]);
//# sourceMappingURL=612.f30cdc52.js.map