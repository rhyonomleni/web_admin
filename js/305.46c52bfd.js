"use strict";(self["webpackChunkadmin_gereja"]=self["webpackChunkadmin_gereja"]||[]).push([[305],{1308:function(a,e,t){t.r(e),t.d(e,{default:function(){return $}});var s=t(3396),i=t(7139),d=t(9242);const r={class:"add-button-container"},n=(0,s._)("i",{class:"fas fa-plus"},null,-1),l={class:"d-flex justify-content-center mt-5"},o={class:"custom-card-content"},c={class:"custom-card-details"},u={class:"title-and-date"},g={key:0},p=["onUpdate:modelValue","required"],k={key:2},h=["onUpdate:modelValue","required"],w=(0,s._)("hr",null,null,-1),m={key:0},y=["onUpdate:modelValue","required"],f={class:"button-card"},D=["onClick"],C=(0,s._)("i",{class:"fas fa-edit"},null,-1),v=["onClick"],b=(0,s._)("i",{class:"fas fa-save"},null,-1),j=["onClick"],_=(0,s._)("i",{class:"fas fa-trash-alt"},null,-1);function U(a,e,t,U,E,M){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r,[(0,s._)("button",{class:"custom-card-button",onClick:e[0]||(e[0]=(...a)=>M.addCard&&M.addCard(...a))},[n,(0,s.Uk)(" Tambah ")])]),(0,s._)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(E.cards,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"custom-card",key:a.id},[(0,s._)("div",o,[(0,s._)("div",c,[(0,s._)("form",null,[(0,s._)("div",u,[a.editing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,"onUpdate:modelValue":e=>a.judul=e,class:"custom-input",placeholder:"Judul",required:a.editing,style:(0,i.j5)({display:a.editing?"block":"none"})},null,12,p)),[[d.nr,a.judul]]):((0,s.wg)(),(0,s.iD)("h3",g,(0,i.zw)(a.judul),1)),a.editing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:3,type:"date","onUpdate:modelValue":e=>a.tanggal=e,class:"custom-input",placeholder:"Tanggal",required:a.editing,style:(0,i.j5)({display:a.editing?"block":"none"})},null,12,h)),[[d.nr,a.tanggal]]):((0,s.wg)(),(0,s.iD)("h6",k,"Tanggal: "+(0,i.zw)(M.formatDate(a.tanggal)),1))]),w,a.editing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:1,"onUpdate:modelValue":e=>a.detail=e,class:"custom-input",placeholder:"Detail Doa",required:a.editing,style:(0,i.j5)({display:a.editing?"block":"none"})},null,12,y)),[[d.nr,a.detail]]):((0,s.wg)(),(0,s.iD)("p",m,(0,i.zw)(a.detail),1)),(0,s._)("div",f,[a.editing?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"custom-card-button",onClick:a=>M.saveCard(e)},[b,(0,s.Uk)(" Save ")],8,v)):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"custom-card-button",onClick:a=>M.toggleEditMode(e)},[C,(0,s.Uk)(" Edit ")],8,D)),(0,s._)("button",{class:"delete-button",onClick:a=>M.deleteCard(e)},[_,(0,s.Uk)(" Delete ")],8,j)])])])])])))),128))])])}t(1719);var E=t(4161),M=t(5448),q={DatePicker:M.Z,data(){return{cards:[{judul:"",tanggal:"",detail:"",editing:!1,errorMessage:""}]}},mounted(){this.fetchCards()},methods:{async fetchCards(){try{const a=await E.Z.get("https://siswaapi.gkiswjateng.org/api/doa");this.cards=a.data}catch(a){console.error("Error fetching cards:",a)}},async deleteCard(a){try{const e=this.cards[a];if(e.id){const t=await E.Z.delete(`https://siswaapi.gkiswjateng.org/api/doa/${e.id}`);200===t.status?this.cards.splice(a,1):console.error(`Error deleting card: ${t.status}`)}}catch(e){console.error("Error deleting card:",e)}},addCard(){this.cards.unshift({judul:"",tanggal:"",detail:"",editing:!0,errorMessage:""})},toggleEditMode(a){const e=this.cards[a];e.editing=!e.editing},async saveCard(a){const e=this.cards[a];if(e.judul&&e.tanggal&&e.detail){e.errorMessage="";try{const t=await E.Z[e.id?"put":"post"](e.id?`https://siswaapi.gkiswjateng.org/api/doa/${e.id}`:"https://siswaapi.gkiswjateng.org/api/doa",e);this.$set(this.cards,a,{...e,...t.data}),e.editing=!1}catch(t){if(console.error("Error saving card:",t),t.response&&t.response.data){const a=t.response.data.message;e.errorMessage=`Error: ${a}`}else e.errorMessage="Error saving data."}}else e.errorMessage="Silakan isi semua kolom."},formatDate(a){const e={year:"numeric",month:"2-digit",day:"2-digit"},t=new Date(a);return t.toLocaleDateString("en-US",e)}}},V=t(89);const Z=(0,V.Z)(q,[["render",U]]);var $=Z}}]);
//# sourceMappingURL=305.46c52bfd.js.map