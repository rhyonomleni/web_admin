"use strict";(self["webpackChunkadmin_gereja"]=self["webpackChunkadmin_gereja"]||[]).push([[642],{3642:function(a,e,t){t.r(e),t.d(e,{default:function(){return fa}});var n=t(3396),i=t(7139),d=t(9242);const l={class:"navigation"},s=(0,n._)("p",null,"Ibadah Mingguan",-1),u=(0,n._)("p",null,"Kebaktian Tahunan",-1),o=(0,n._)("p",null,"Ibadah Persekutuan",-1),r=(0,n._)("div",{style:{height:"5px"}},null,-1),c={class:"add-button-container"},g=(0,n._)("i",{class:"fas fa-plus"},null,-1),_={class:"d-flex justify-content-center mt-5"},p={class:"custom-card-content"},h={class:"custom-card-image"},k=["src","onClick"],m=["onChange"],b={class:"custom-card-details"},f={class:"table-borderless"},w=(0,n._)("td",null,"Judul",-1),y=(0,n._)("td",null,":",-1),v={key:0},C={key:1},I=["onUpdate:modelValue"],D=(0,n._)("td",null,"Tema",-1),j=(0,n._)("td",null,":",-1),U={key:0},V={key:1},M=["onUpdate:modelValue"],T=(0,n._)("td",null,"Jenis Ibadah",-1),P=(0,n._)("td",null,":",-1),q={key:0},E={key:1},z=["onUpdate:modelValue"],Z=(0,n._)("option",{value:"Ibadah Mingguan"},"Ibadah Mingguan",-1),$=(0,n._)("option",{value:"Kebaktian Tahunan"},"Kebaktian Tahunan",-1),W=(0,n._)("option",{value:"Ibadah Persekutuan"},"Ibadah Persekutuan",-1),A=[Z,$,W],K=(0,n._)("td",null,"Pendeta",-1),S=(0,n._)("td",null,":",-1),x={key:0},H={key:1},J=["onUpdate:modelValue"],Y=(0,n._)("td",null,"Tanggal",-1),F=(0,n._)("td",null,":",-1),L={key:0},R={key:1},B=["onUpdate:modelValue","required"],G=(0,n._)("td",null,"Waktu",-1),N=(0,n._)("td",null,":",-1),O={key:0},Q={key:1},X=(0,n._)("td",null,"Youtube",-1),aa=(0,n._)("td",null,":",-1),ea={key:0},ta={key:1},na=["onUpdate:modelValue"],ia={class:"button-card"},da=["onClick"],la=(0,n._)("i",{class:"fas fa-edit"},null,-1),sa=["onClick"],ua=(0,n._)("i",{class:"fas fa-save"},null,-1),oa=["onClick"],ra=(0,n._)("i",{class:"fas fa-trash-alt"},null,-1);function ca(a,e,t,Z,$,W){const ca=(0,n.up)("router-link"),ga=(0,n.up)("flatpickr");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[(0,n.Wm)(ca,{to:"/jadwalibadah",onClick:e[0]||(e[0]=a=>W.setActiveTab("Ibadah Mingguan"))},{default:(0,n.w5)((()=>[s])),_:1}),(0,n.Uk)(" | "),(0,n.Wm)(ca,{to:"/kebaktiantahunan",onClick:e[1]||(e[1]=a=>W.setActiveTab("Kebaktian Tahunan"))},{default:(0,n.w5)((()=>[u])),_:1}),(0,n.Uk)(" | "),(0,n.Wm)(ca,{to:"/ibadahpersekutuan",onClick:e[2]||(e[2]=a=>W.setActiveTab("Ibadah Persekutuan"))},{default:(0,n.w5)((()=>[o])),_:1})]),r,(0,n._)("div",c,[(0,n._)("button",{class:"custom-card-button",onClick:e[3]||(e[3]=(...a)=>W.addCard&&W.addCard(...a))},[g,(0,n.Uk)(" Tambah ")])]),(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.cards,((a,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"custom-card",key:a.id},[(0,n._)("div",p,[(0,n._)("div",h,[(0,n._)("img",{src:a.foto_pendeta,alt:"Profile Picture",onClick:t=>W.openImageInput(a,e)},null,8,k),(0,n._)("input",{type:"file",accept:"image/*",onChange:()=>W.uploadImage(e),ref_for:!0,ref:"imageInput_"+e,style:{display:"none"}},null,40,m)]),(0,n._)("div",b,[(0,n._)("form",null,[(0,n._)("table",f,[(0,n._)("tr",null,[w,y,a.editing?((0,n.wg)(),(0,n.iD)("td",C,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e=>a.judul_ibadah=e,class:"custom-input",required:""},null,8,I),[[d.nr,a.judul_ibadah]])])):((0,n.wg)(),(0,n.iD)("td",v,(0,i.zw)(a.judul_ibadah),1))]),(0,n._)("tr",null,[D,j,a.editing?((0,n.wg)(),(0,n.iD)("td",V,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e=>a.tema_ibadah=e,class:"custom-input",required:""},null,8,M),[[d.nr,a.tema_ibadah]])])):((0,n.wg)(),(0,n.iD)("td",U,(0,i.zw)(a.tema_ibadah),1))]),(0,n._)("tr",null,[T,P,a.editing?((0,n.wg)(),(0,n.iD)("td",E,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>a.jenis_ibadah=e,class:"custom-select",required:""},A,8,z),[[d.bM,a.jenis_ibadah]])])):((0,n.wg)(),(0,n.iD)("td",q,(0,i.zw)(a.jenis_ibadah),1))]),(0,n._)("tr",null,[K,S,a.editing?((0,n.wg)(),(0,n.iD)("td",H,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e=>a.pendeta=e,class:"custom-input",required:""},null,8,J),[[d.nr,a.pendeta]])])):((0,n.wg)(),(0,n.iD)("td",x,(0,i.zw)(a.pendeta),1))]),(0,n._)("tr",null,[Y,F,a.editing?((0,n.wg)(),(0,n.iD)("td",R,[(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":e=>a.tanggal=e,class:"custom-input",placeholder:"Tanggal",required:a.editing,style:(0,i.j5)({display:a.editing?"block":"none"})},null,12,B),[[d.nr,a.tanggal]])])):((0,n.wg)(),(0,n.iD)("td",L,(0,i.zw)(W.formatDate(a.tanggal)),1))]),(0,n._)("tr",null,[G,N,a.editing?((0,n.wg)(),(0,n.iD)("td",Q,[(0,n.Wm)(ga,{modelValue:a.waktu,"onUpdate:modelValue":e=>a.waktu=e,class:"custom-input",placeholder:"Waktu",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0}},null,8,["modelValue","onUpdate:modelValue"])])):((0,n.wg)(),(0,n.iD)("td",O,(0,i.zw)(a.waktu),1))]),(0,n._)("tr",null,[X,aa,a.editing?((0,n.wg)(),(0,n.iD)("td",ta,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e=>a.link_rekaman=e,class:"custom-input",required:""},null,8,na),[[d.nr,a.link_rekaman]])])):((0,n.wg)(),(0,n.iD)("td",ea,(0,i.zw)(a.link_rekaman),1))])]),(0,n._)("div",ia,[a.editing?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"custom-card-button",onClick:a=>W.saveCard(e)},[ua,(0,n.Uk)(" Save ")],8,sa)):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"custom-card-button",onClick:a=>W.toggleEditMode(e)},[la,(0,n.Uk)(" Edit ")],8,da)),(0,n._)("button",{class:"delete-button",onClick:a=>W.deleteCard(e)},[ra,(0,n.Uk)(" Delete ")],8,oa)])])])])])))),128))])],64)}t(1719);var ga=t(9298),_a=t(4161),pa=t(484),ha=t(9865),ka={DatePicker:ga.Z,data(){return{editMode:!1,cards:[{judul_ibadah:"",tema_ibadah:"",pendeta:"",foto_pendeta:null,jenis_ibadah:"",tanggal:"",waktu:"",link_rekaman:"",editing:!1,imageChanged:!1,isInvalid:!1,errorMessage:""}],imageInputs:[]}},mounted(){this.fetchCards()},components:{flatpickr:pa.Z},methods:{setActiveTab(a){const e=(0,ha.qr)();e.activeTab=`Jadwal Ibadah: ${a}`},async fetchCards(){try{const a=await _a.Z.get("https://siswaapi.gkiswjateng.org/api/ibadah");this.cards=a.data.filter((a=>"Ibadah Persekutuan"===a.jenis_ibadah))}catch(a){console.error("Error fetching cards:",a)}},toggleEditMode(a){try{const e=this.cards[a];if(e){if(e.editing){if(!e.judul_ibadah||!e.tema_ibadah||!e.pendeta||!e.foto_pendeta||!e.jenis_ibadah||!e.tanggal||!e.waktu||!e.link_rekaman)return void(e.errorMessage="Silakan isi semua kolom.");e.errorMessage=""}e.editing=!e.editing}}catch(e){console.error("Error toggling edit mode:",e)}},async saveCard(a){try{const e=this.cards[a];if(!e.judul_ibadah||!e.tema_ibadah||!e.pendeta||!e.foto_pendeta||!e.jenis_ibadah||!e.tanggal||!e.waktu||!e.link_rekaman)return void(e.errorMessage="Silakan isi semua kolom.");if(e.id)await _a.Z.put(`https://siswaapi.gkiswjateng.org/api/ibadah/${e.id}`,e);else{const a=await _a.Z.post("https://siswaapi.gkiswjateng.org/api/ibadah",e);a.data&&a.data.id&&(e.id=a.data.id)}e.editing=!1,e.errorMessage=""}catch(e){console.error("Error saving card:",e)}},async deleteCard(a){try{const e=this.cards[a];e.id&&await _a.Z.delete(`https://siswaapi.gkiswjateng.org/api/ibadah/${e.id}`),this.cards.splice(a,1),this.imageInputs.splice(a,1)}catch(e){console.error("Error deleting card:",e)}},addCard(){try{this.cards.unshift({judul_ibadah:"",tema_ibadah:"",pendeta:"",foto_pendeta:"",jenis_ibadah:"",tanggal:"",waktu:"",link_rekaman:"",editing:!0,imageChanged:!1,isInvalid:!1,errorMessage:""}),this.imageInputs.unshift(null)}catch(a){console.error("Error adding card:",a)}},openImageInput(a,e){if(a.editing){const a=this.$refs["imageInput_"+e][0];a?a.click():console.error(`Input element for index ${e} is undefined.`)}},uploadImage(a){const e=this.cards[a];if(e.editing){const t=this.$refs["imageInput_"+a][0];if(t&&t.files&&t.files.length>0){const a=t.files[0],n=new FileReader;n.onload=a=>{e.foto_pendeta=a.target.result,e.imageChanged=!0},n.readAsDataURL(a)}else console.error(`Input element for index ${a} is undefined or has no selected file.`)}},formatDate(a){const e={year:"numeric",month:"2-digit",day:"2-digit"},t=new Date(a);return t.toLocaleDateString("en-US",e)}}},ma=t(89);const ba=(0,ma.Z)(ka,[["render",ca]]);var fa=ba}}]);
//# sourceMappingURL=642.c341f40b.js.map